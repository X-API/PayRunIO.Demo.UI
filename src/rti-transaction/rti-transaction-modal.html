<template>
    <require from="../resources/elements/validation-errors/validation-errors"></require>
    <require from="../resources/elements/api-errors/api-errors"></require>

    <ux-dialog>
        <ux-dialog-header>
            <h5>FPS Submission</h5>
        </ux-dialog-header>
        <ux-dialog-body>
            <form>
                <div class="container-fluid">
                    <api-errors errors.bind="apiErrors"></api-errors>

                    <div class="row">
                        <div class="col-sm-12 col-md-12">
                            <div class="form-group">
                                <label for="PaySchedule">Submission For:</label>
                
                                <select class="form-control" 
                                    id="PayRun" 
                                    name="PayRun" 
                                    value.bind="state.PayRun">
                                        <option repeat.for="pr of state.payRuns" model.bind="pr">${pr.PaySchedule} > ${pr.PaymentDate}</option>
                                </select>
                            </div>
                
                            <div class="form-group">
                                <label for="HoldingDate">Holding date</label>
                                <input type="date" 
                                    class="form-control" 
                                    id="HoldingDate" 
                                    name="HoldingDate" 
                                    value.bind="state.HoldingDate" 
                                    placeholder="Holding date">
                
                                <span class="notes">Optional date, used to defer execution of the job until a future point in time.</span>
                            </div>
                
                            <div class="form-group">
                                <label for="LateReason">Late reason</label>
                                
                                <select class="form-control" id="LateReason" name="LateReason" change.delegate="onLateReasonSelected($event.target.value)">
                                    <option>N/A - Not Late</option>
                                    <option value="A">Notional payment: Payment to Expat by third party or overseas employer</option>
                                    <option value="B">Notional payment: Employment related security</option>
                                    <option value="C">Notional payment: Other</option>
                                    <option value="D">Payment subject to Class 1 NICs but P11D/P9D for tax</option>
                                    <option value="F">No requirement to maintain a Deductions Working Sheet or Impractical to report work done on the day</option>
                                    <option value="G">Reasonable excuse</option>
                                    <option value="H">Correction to earlier submission</option>
                                </select>
                
                                <span class="notes">If applicable, the reason given for a late submission.</span>
                            </div>
                        </div>        
                    </div>
                </div>
            </form>
        </ux-dialog-body>

        <ux-dialog-footer>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-6 text-left">
                        <button class="btn btn-secondary" click.trigger="dialogController.cancel()">Cancel</button>
                    </div>
                    <div class="col-sm-6 text-right">
                        <button class="btn btn-primary" click.trigger="save()">Start</button>
                    </div>
                </div>
            </div>
        </ux-dialog-footer>
    </ux-dialog>
</template>    